<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BalisongEngine: Manual</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript" src="darkmode_toggle.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="balisong_logo_small.png"/></td>
  <td id="projectalign">
   <div id="projectname">BalisongEngine<span id="projectnumber">&#160;1.0.0</span>
   </div>
   <div id="projectbrief">Game Engine</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('md_project_2md_2manual.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Manual</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md1"></a></p>
<p>This is the user manual for custom components, game objects/prefabs, and scenes.</p>
<h2><a class="anchor" id="autotoc_md2"></a>
How to create custom components</h2>
<p>First, create a new header file for your component and name it. e.g., MyCustomComponent.h</p>
<p>It must inherit from BaseComponent.</p>
<p>Include necessary files like <a class="el" href="_base_component_8h_source.html">BaseComponent.h</a>, and any other dependencies like string, <a class="el" href="_random_8h_source.html">Random.h</a>, or glm/glm.hpp</p>
<p>Here is where you can add member variables and functions that your component, or other components, will use.</p>
<p>Forward declare other components that your custom component might need. These will be fully included in the .cpp file, not the header file, if you want to keep your header files lightweight.</p>
<p>GameObject and TransformComponent are already forward declared in BaseComponent, so no need to do it again.</p>
<p>Make sure they are in the proper namespaces</p>
<div class="fragment"><div class="line"><span class="preprocessor">#pragma once</span></div>
<div class="line"><span class="preprocessor">#include &quot;BaseComponent.h&quot;</span></div>
<div class="line"><span class="comment">//optional includes</span></div>
<div class="line"><span class="preprocessor">#include &quot;GameObjectRef.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;glm/glm.hpp&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Must be in the correct nested namespaces</span></div>
<div class="line"><span class="keyword">namespace </span>BalisongEngine {</div>
<div class="line"><span class="keyword">namespace </span>BalisongEngineComponents {</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// this is from another custom component</span></div>
<div class="line">    <span class="keyword">class </span>MoveComponent; <span class="comment">// forward declare</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// your custom component</span></div>
<div class="line">    <span class="keyword">class </span>MyCustomComponent : <span class="keyword">public</span> BaseComponent</div>
<div class="line">    {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line"> </div>
<div class="line">        MyCustomComponent(BalisongEngineOCM::GameObject* go, <span class="keyword">const</span> std::string&amp; comp_name = <span class="stringliteral">&quot;[MyCustomComponent]&quot;</span>);</div>
<div class="line">        ~MyCustomComponent();</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Override from base component</span></div>
<div class="line">        <span class="keywordtype">void</span> Awake() <span class="keyword">override</span>;</div>
<div class="line">        <span class="keywordtype">void</span> Start() <span class="keyword">override</span>;</div>
<div class="line">        <span class="keywordtype">void</span> Update(<span class="keywordtype">float</span> deltaTime) <span class="keyword">override</span>;</div>
<div class="line">        <span class="keywordtype">void</span> Render() <span class="keyword">override</span>;</div>
<div class="line">        <span class="keywordtype">void</span> OnDestroy() <span class="keyword">override</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">void</span> OnCollisionFirstEnter(BalisongEngineOCM::GameObject* other) <span class="keyword">override</span>;</div>
<div class="line">        <span class="keywordtype">void</span> OnCollisionEnter(BalisongEngineOCM::GameObject* other) <span class="keyword">override</span>;</div>
<div class="line">        <span class="keywordtype">void</span> OnCollisionStay(std::set&lt;BalisongEngineOCM::GameObject*&gt; others) <span class="keyword">override</span>;</div>
<div class="line">        <span class="keywordtype">void</span> OnCollisionExit(BalisongEngineOCM::GameObject* other) <span class="keyword">override</span>;</div>
<div class="line">        <span class="keywordtype">void</span> OnCollisionLastExit(BalisongEngineOCM::GameObject* other) <span class="keyword">override</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">private</span>:</div>
<div class="line">        </div>
<div class="line">        GameObjectRef targetRef;</div>
<div class="line">        MoveComponent* vehicle = <span class="keyword">nullptr</span>; <span class="comment">// this is from another custom component</span></div>
<div class="line"> </div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">}</div>
<div class="line">}</div>
</div><!-- fragment --><p>After that, now you can implement the functionality of your component in the corresponding .cpp file.</p>
<p>Include the header file you just created.</p>
<p>The other most common headers to use are GameObject and TransformComponent, with the namespaces BalisongEngineOCM and BalisongEngineComponents.</p>
<p>Implement the constructor and destructor. The constructor is used to initialize the component, and the destructor is used to clean up.</p>
<p>Override the BaseComponent methods, like Awake, Start, or Update to define the behavior that happens every frame.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;MyCustomComponent.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;GameObject.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;TransformComponent.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;MoveComponent.h&quot;</span></div>
<div class="line"><span class="keyword">using namespace </span>BalisongEngine;</div>
<div class="line"><span class="keyword">using namespace </span>BalisongEngineOCM;</div>
<div class="line"><span class="keyword">using namespace </span>BalisongEngineComponents;</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;glm/glm.hpp&gt;</span></div>
<div class="line"><span class="keyword">using namespace </span>glm;</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"><span class="keyword">using namespace </span>std;</div>
<div class="line"> </div>
<div class="line">MyCustomComponent::MyCustomComponent(GameObject* go, <span class="keyword">const</span> std::string&amp; comp_name) : BaseComponent(go, comp_name) {}</div>
<div class="line">MyCustomComponent::~MyCustomComponent() {}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> MyCustomComponent::Update(<span class="keywordtype">float</span> dt)</div>
<div class="line">{</div>
<div class="line">    cout &lt;&lt; <span class="stringliteral">&quot;Hello world!\n&quot;</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> target = targetRef.Get();</div>
<div class="line">    <span class="keywordflow">if</span> (!target) <span class="keywordflow">return</span>;</div>
<div class="line">    <span class="keywordflow">if</span> (!vehicle) <span class="keywordflow">return</span>;</div>
<div class="line"> </div>
<div class="line">    vec3 target_position = target-&gt;GetWorldPosition();</div>
<div class="line">    vec3 direction = glm::normalize(target_position - vehicle-&gt;GetPosition());</div>
<div class="line">    </div>
<div class="line">    vehicle-&gt;SetDirection(direction); <span class="comment">// this is from another custom component</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// other stuff here...</span></div>
<div class="line">}</div>
</div><!-- fragment --><p>So after creating your custom component, you will now need a game object or prefab to put it in.</p>
<h2><a class="anchor" id="autotoc_md3"></a>
How to create custom GameObjects or Prefabs</h2>
<p>First, create and declare a new class that inherits from Prefab class. It should override its CreateInstance method.</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>MyCustomPrefab : <span class="keyword">public</span> Prefab</div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    GameObject* CreateInstance() <span class="keyword">override</span>;</div>
<div class="line">};</div>
</div><!-- fragment --><p>After that, create the definition of your prefab's CreateInstance method.</p>
<p>Here is where you can create a new GameObject and attach your custom components that you created previously.</p>
<p>At the end of the method, make sure to return the created game object</p>
<div class="fragment"><div class="line">GameObject* MyCustomPrefab::CreateInstance()</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">auto</span> go = <span class="keyword">new</span> GameObject(<span class="stringliteral">&quot;[GO] My Game Object&quot;</span>);</div>
<div class="line">    go-&gt;GetTransform()-&gt;TranslateLocal(0, .25f);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> my_comp = go-&gt;AddComponent&lt;MyCustomComponent&gt;();</div>
<div class="line">    my_comp-&gt;anyPublicVariable = 123;</div>
<div class="line">    my_comp-&gt;AnyPublicMethod();</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> sprite = go-&gt;AddComponent&lt;SpriteRendererComponent&gt;();</div>
<div class="line">    sprite-&gt;SetTexture(<span class="stringliteral">&quot;../assets/your/custom/image.png&quot;</span>);</div>
<div class="line">    sprite-&gt;SetPixelsPerUnit(300);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> go;</div>
<div class="line">}</div>
</div><!-- fragment --><p>Lastly, you must add your prefab into the PrefabManager when Application starts.</p>
<p>You will need to give it a string name that you can remember.</p>
<p>You can do it before the Scenes and after Camera sections.</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> Application::Run()</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Input ===============================================================================</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Renderer ===============================================================================</span></div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Camera ===============================================================================</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Prefabs ===============================================================================</span></div>
<div class="line">    </div>
<div class="line">    PrefabManager::AddPrefab(<span class="stringliteral">&quot;MyCustomPrefab&quot;</span>, <span class="keyword">new</span> MyCustomPrefab());</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Scenes ===============================================================================</span></div>
<div class="line">}</div>
</div><!-- fragment --><p>Now your prefab is ready, but first you will need to create your custom scene to spawn it in</p>
<h2><a class="anchor" id="autotoc_md4"></a>
How to create custom scenes</h2>
<p>First, create and declare a new class that inherits from BaseScene class. You will need to give it a string name that you can remember, and override its OnInitialize method. Then, you can optionally override its Awake, Start, Update, or Render methods.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#pragma once</span></div>
<div class="line"><span class="preprocessor">#include &quot;BaseScene.h&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">namespace </span>BalisongEngine{</div>
<div class="line"><span class="keyword">namespace </span>BalisongEngineScenes</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">class </span>MyCustomScene : <span class="keyword">public</span> BaseScene</div>
<div class="line">    {</div>
<div class="line">    <span class="keyword">public</span>:</div>
<div class="line"> </div>
<div class="line">        std::string GetName()<span class="keyword"> const override </span>{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;MyCustomScene&quot;</span>; }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">protected</span>:</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">void</span> OnInitialize() <span class="keyword">override</span>;</div>
<div class="line">        <span class="keywordtype">void</span> OnUpdate(<span class="keywordtype">float</span> deltaTime) <span class="keyword">override</span>;</div>
<div class="line"> </div>
<div class="line">        <span class="keywordtype">float</span> time = 0;</div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">}</div>
<div class="line">}</div>
</div><!-- fragment --><p>Next, create the definition for your custom scene.</p>
<p>Here is where you can set the background color, camera, and instantiate your custom GameObject prefabs. You must use the exact string name that you set for your prefab, case sensitive.</p>
<p>You don't have to create prefabs for all GameObjects, sometimes you can just create them here on scene initialization, if you are sure that you will just spawn them once and won't spawn them again later.</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> MyCustomScene::OnInitialize()</div>
<div class="line">{</div>
<div class="line">    time = 0;</div>
<div class="line">    Renderer::SetClearColor(.1f, .1f, .1f, 1); <span class="comment">// bg color</span></div>
<div class="line">    Camera::SetPosition(0, 0, 0);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// ===============================================================================</span></div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> my_object = PrefabManager::Instantiate(<span class="stringliteral">&quot;MyCustomPrefab&quot;</span>);</div>
<div class="line">    <span class="keyword">auto</span> my_object_tr = my_object-&gt;GetTransform();</div>
<div class="line">    my_object_tr-&gt;SetLocalPosition(0, -.5f);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> another = <span class="keyword">new</span> GameObject(<span class="stringliteral">&quot;[GO] Another One&quot;</span>);</div>
<div class="line">    another-&gt;GetTransform()-&gt;SetParent(my_object_tr);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> sprite = another-&gt;AddComponent&lt;SpriteRendererComponent&gt;();</div>
<div class="line">    sprite-&gt;SetTexture(<span class="stringliteral">&quot;../assets/another/one.png&quot;</span>);</div>
<div class="line">    sprite-&gt;SetPixelsPerUnit(375);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// ===============================================================================</span></div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> logo = <span class="keyword">new</span> GameObject(<span class="stringliteral">&quot;[GO] Balisong Logo&quot;</span>);</div>
<div class="line">    logo-&gt;GetTransform()-&gt;SetLocalPosition(0, .15f);</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">auto</span> logo_sprite = logo-&gt;AddComponent&lt;SpriteRendererComponent&gt;();</div>
<div class="line">    logo_sprite-&gt;SetTexture(<span class="stringliteral">&quot;../assets/splash/balisong_logo.png&quot;</span>);</div>
<div class="line">    logo_sprite-&gt;SetPixelsPerUnit(300);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> MyCustomScene::OnUpdate(<span class="keywordtype">float</span> dt)</div>
<div class="line">{</div>
<div class="line">    time += dt;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (time &gt;= 3 || Input::GetKeyDown(KeyCode::SPACE))</div>
<div class="line">    {</div>
<div class="line">        SceneStateMachine::LoadScene(<span class="stringliteral">&quot;AnotherScene&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p>Lastly, you must add your scene into the SceneStateMachine when Application starts.</p>
<p>You can then load it with the string name you gave for your custom scene. You must use the exact string name, case sensitive.</p>
<p>You can also load it using the index depending on the order you added the scenes in.</p>
<p>You can do it after the Prefabs section.</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> Application::Run()</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Other stuff ===============================================================================</span></div>
<div class="line">    </div>
<div class="line">    <span class="comment">// Camera ===============================================================================</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Prefabs ===============================================================================</span></div>
<div class="line">    </div>
<div class="line">    PrefabManager::AddPrefab(<span class="stringliteral">&quot;MyCustomPrefab&quot;</span>, <span class="keyword">new</span> MyCustomPrefab());</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Scenes ===============================================================================</span></div>
<div class="line"> </div>
<div class="line">    SceneStateMachine::AddScene&lt;MyCustomScene&gt;();</div>
<div class="line">    SceneStateMachine::LoadScene(<span class="stringliteral">&quot;MyCustomScene&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Other stuff  ===============================================================================</span></div>
<div class="line">}</div>
</div><!-- fragment --><p>Now your scene is ready, and will load after you compile and start the game. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
